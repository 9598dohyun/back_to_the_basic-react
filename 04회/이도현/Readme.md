[4화] Adding Interactivity (상호작용 추가하기)

### 랜더링하고 커밋하기
- step 1 . 촉발!!
  - 렌더링이 일어나는데는 두가지 이유가 있다.
  1. 컴포넌트의 초기 렌더링인 경우
     - 대상 DOM 노드로 createRood를 호출 후 render메서드를 호출한다
     
  2. 컴포넌트의 state (또는 상위요소중의 하나)가 업데이트된 경우
     - state를 업데이트하면 set함수로 업데이트하여 추가렌더링을 일으킨다.(업데이트할때마다!!)

  추가. 부모에서 자식한테 prop이 없을때는?
     - **렌더링은 되지만** 바뀌는 데이터가 없으니 그대로 있는다

- step 2. 컴포넌트 렌더링
  - 촉발 후 React는 **컴포넌트를 호출**하여 화면에 표시할 내용을 파악
  - 이 과정은 재귀적으로 일어나는데
     1. 업데이트된 컴포넌트가 다른 컴포넌트를 반한 
     2. React는 다른 컴포넌트 렌더링
  - 예제는 간단해서.. 패스
    - 첫 렌더링을 하는동안 각 태그에 대한 DOM노드(html요소)를 생성
#### 함정
- 렌더링은 항상 순수한 계산이어야 합니다.
  - 동일한 입력에는 동일한 출력을 나와야 한다.
  - 이전의 state를 변경해서는 안됩니다. 렌더링 전에 존재했던 객체나 변수를 변경해서는 안됩니다.
     - (이 경우는 코드의 복잡해짐을 겪는 경우가 너무 많았어서 꼭 지켜야 될거 같아요)
#### 성능 최적화 (state 관리 챕터에서 깊게 다룰 예정)
- npm build를 통해 성능 최적화를 할수 있지만 성급하게 해서는 안된다 (다 따져보고 해야하는데 다음챕터에서 언급)

- step 3. React가 DOM에 변경사항을 커밋
 ```js
  export default function Clock({ time }) {
  return (
  <>
  <h1>{time}</h1>
  <input />
  </>
  );
  }
  ```
타임의 초가 변경될때마다 렌더링이 되는 모습을 확인할수 있다.
이 경우 컴포넌트를 각자 사용하면 될거 같긴 하지만 더 좋은 경우가 있을지 확인해보자

###  스냅샷으로서의 state
- 스냅샷 (한번찍은 정보에 대해 쭉 사용한다 (변경하기 전까지))
1. state를 설정하면 렌더리이 실행됨

- 인터페이스가 이벤트(불린 값에 의하던지 일정 숫자,클릭)에 반응하려면 state를 업데이트해야 합니다.
  - 렌더링은 함수를 호출한다는 뜻인데 모든 변수(prop,이벤트,로컬변수)는 렌더링 당시의 state를 사용합니다.
      ```js
      import { useState } from 'react';
    
      export default function Counter() {
      const [number, setNumber] = useState(0);
    
     return (
    <>
    <h1>{number}</h1>
    <button onClick={() => {
    setNumber(number + 1);
       setNumber(number + 1);
     setNumber(number + 1);
     }}>+3</button>
     </>
     )}
    //3개의 큐가 생성이 되지만 각각 set값에 들어갈때는 렌더링 초기의 값 (0)에 들어가므로 결과적으로 1이 출력된다.
    //strict모드에서는 2번 , 없이는 1번 렌더링 되는것을 확인할수 있다.
     ```
    - 하지만 시점을 미뤄도 그대로 number의 값이 0으로 표시가 될까?
       - 아니다! 지정된 state는 버튼을 클릭했을때 변경이 되었을수 있지만 보여지는 변수의 값은 예약되어있는 값을 출력하기 때문이다.
       - state변수의 값은 이벤트핸들러의 코드가 비동기적이라도 렌더링내에서 절대 변경되지 않습니다!!
       - 렌더링 내에서 변수를 변경하고 싶다면 다음 챕터인 state업데이트를 공부하자!
    - 이벤트 헨들러의 state관계는 렌더링된 jsx와의 관계와 동일하다고 볼수 있다.(위의 jsx문 참고)
      - 렌더링시점에서의 state변수와 jsx문 안에서의 state변수와 같다는 말

- 문제 1 
- alert의 위치가 크게 의미가 없는 이유는 snapshot의 영향인데 바뀐 state변수의 값은 예약어 일뿐 현재 상태에서는 어떠한 영향도 끼치지 않기 때문이다.


###  여러 state 업데이트를 큐에 담기
### 객체 state 업데이트
### 배열 state 업데이트